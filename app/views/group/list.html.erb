<h1>グループメンバー一覧表示のページです</h1>

<h3><%= Group.find(@gid).group_name %>に所属しているメンバー</h3>
<!-- group_user_allに格納したレコードのうち、ユーザ名は表示に、IDをリンクに利用する -->
<ol>
<% @group_user_all.each do |user| %>
  <%= form_tag("/user/group_login") do %>
    <li>
      <%= user.name %>
      <input type="hidden" name="user_id" value="<%= user.id%>">
      <input type="hidden" name="group_id" value="<%= @gid %>">
      <% if user.group_password.nil? %>
      <% else %>
        <input pattern="^[0-9A-Za-z]+$" type="password" name="group_password">
      <% end %>
      <input type="submit" value="マイページに移動">
    </li>
  <% end %>
<% end %>
</ol>
<br>
<hr>
<h3>メンバーを追加する</h3>
<%= form_tag("/user/new_member") do %>
  <input type="hidden" name="group_id" value="<%= @gid %>">
  <input  name="user_name" required>
  <input type="submit">
<% end %>

<hr>
<p>ユーザ名の隣にあるボタンを押すと、マイページに移動します。<br>
メンバーを追加する場合は、新規ユーザ名を入力したのち、送信ボタンを押してください。<br>
</p>
