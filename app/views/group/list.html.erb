<!DOCTYPE html>
<html lang="ja">

<!-- Header -->
<header class="bg-primary py-5 mb-5">
  <div class="container h-100">
    <div class="row h-100 align-items-center">
      <div class="col-lg-12">
        <h1 class="display-4 text-white mt-5 mb-2">グループメンバー一覧</h1>
      </div>
    </div>
  </div>
</header>
<div class="container">
  <div class="row">
    <div class="col-md-8 mb-5">
      <h4><%= Group.find(@gid).group_name %>に所属しているメンバー</h4>
      <hr>
    </div>
    <ol>
      <% @query_guser.each do |user| %>
      <%= form_tag("/user/group_login") do %>
      <li>
        <%= user.name %>
        <input type="hidden" name="user_id" value="<%= user.id%>">
        <input type="hidden" name="group_id" value="<%= @gid %>">
        <input pattern="^[0-9A-Za-z]+$" type="password" name="group_password" required>
        <input type="submit" value="マイページに移動">
      </li>
      <% end %>
      <% end %>
    </ol>
  </div>
<br>
<hr>
<!-- セッションのアカウントIDを確認して、あるかないかで分岐 -->
<% if @login_uid == nil %>
<h3>まだグループに参加してない人はここからメンバー追加</h3>
<%= link_to 'グループに参加する！', "/group/#{@gid}/add_member" %>
<% else %>
<%= @login_uname %>としてこのグループに参加しています
<br>
<%= link_to 'マイページへ移動する', "/user/mypage/#{@login_uid}" %>
<br>
<%= link_to '共有している趣味を閲覧する', "/user/show/#{@login_uid}/#{@gid}" %>
<% end %>
</div>
